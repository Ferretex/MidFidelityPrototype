<!DOCTYPE html>
<html>
    <head>
        <title>user click Test</title>
        <meta charset="utf-8" />
        <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@fb96ab2/dist/aframe-extras.min.js"></script>
        <!-- //VERY HANDY! https://socket.io/docs/v3/emit-cheatsheet/  -->
        <script src="/socket.io/socket.io.js"></script>
    </head>

    <body>
        <a-scene experience-manager background="color:rgb(0, 255, 255);">
            
            <a-assets>
                <a-asset-item id="floorModel" src="assets/AntColonyNvaMesh.glb" response-type="arraybuffer"></a-asset-item>
                <a-asset-item id="antColonyModel" src="assets/AntColonyTest.glb" response-type="arraybuffer"></a-asset-item>
                <a-asset-item id="antModel" src="assets/ant.glb" response-type="arraybuffer"></a-asset-item>
                <a-asset-item id="antQueen" src="assets/antQueen.glb" response-type="arraybuffer"></a-asset-item>
                <a-asset-item id="mushroomModel" src="assets/shroom.glb" response-type="arraybuffer"></a-asset-item>
                <a-asset-item id="eggModel" src="assets/egg.glb" response-type="arraybuffer"></a-asset-item>
                <a-asset-item id="larvaeModel" src="assets/larvae.glb" response-type="arraybuffer"></a-asset-item>
            </a-assets>

            <!-- Enivroment -->


            <a-entity id="colonyWalls" gltf-model="#antColonyModel" shadow></a-entity>
            <a-entity id="antOne" gltf-model="#antModel" scale="2.5 2.5 2.5" position="17 0 87" rotation="0 35 0" shadow></a-entity>
            <a-entity id="antTwo" gltf-model="#antModel" scale="3 3 3" position="20 0 93" rotation="0 5 0" shadow></a-entity>
            <a-entity id="mushroomOne" gltf-model="#mushroomModel" scale="0.2 0.2 0.2" position="217 0 88" rotation="0 30 0" shadow></a-entity>
            <a-entity id="mushroomTwo" gltf-model="#mushroomModel" scale="0.3 0.3 0.3" position="224 0 87" rotation="0 -50 0" shadow></a-entity>
            <a-entity id="mushroomThree" gltf-model="#mushroomModel" scale="0.25 0.25 0.25" position="220 0 94" rotation="0 -160 0" shadow></a-entity>
            <a-entity id="eggOne" gltf-model="#eggModel" scale="0.2 0.2 0.2" position="220 0 -5" rotation="0 40 0" shadow></a-entity>
            <a-entity id="queen" gltf-model="#antQueen" scale="5 5 5" position="123 0 50" rotation="0 -150 0" shadow></a-entity>
            <a-entity id="larvaeOne" gltf-model="#larvaeModel" scale="0.2 0.2 0.2" position="125 0 150" rotation="0 35 0" shadow></a-entity>
            <a-entity id="larvaeOne" gltf-model="#larvaeModel" scale="0.2 0.2 0.2" position="115 0 150" rotation="0 79 0" shadow></a-entity>
            <a-entity id="larvaeOne" gltf-model="#larvaeModel" scale="0.2 0.2 0.2" position="120 0 145" rotation="0 160 0" shadow></a-entity>
            <a-entity id="larvaeOne" gltf-model="#larvaeModel" scale="0.2 0.2 0.2" position="120 0 155" rotation="0 -40 0" shadow></a-entity>
            <a-entity id="larvaeOne" gltf-model="#larvaeModel" scale="0.2 0.2 0.2" position="120 0 153" rotation="0 100 0" shadow></a-entity>
            <a-entity id="larvaeOne" gltf-model="#larvaeModel" scale="0.2 0.2 0.2" position="119 0 148" rotation="0 50 0" shadow></a-entity>

            <!-- NavMesh -->
            <a-entity id="walkMesh" class="navmesh" gltf-model="#floorModel" position="0 0 0" nav-mesh visible="false"> </a-entity>

            <!-- Player -->
            <a-entity id="rig" movement-controls="controls: keyboard, touch; speed: 0.7; constrainToNavMesh: true;" position="0 0 0">
                <a-entity id="player" position="0 1.6 0" camera="userHeight: 1.6" look-controls="pointerLockEnabled: true;"
                    animation__1="property:camera.zoom; from: 1; to: 1.1; dur: 50; startEvents: hitAnim"
                    animation__2="property:camera.zoom; from: 1.1; to: 1; dur: 50; startEvents: animationcomplete__1">
                    <a-entity id="light" position="0 0 0" light="type:spot; intensity:4; castShadow:true; shadowBias: -0.05; penumbra:0.1;"></a-entity>
                    <a-entity cursor="rayOrigin:mouse;" raycaster="far:20; interval:200; objects:.interactive"></a-entity>
                    <a-entity id="hitEffect" geometry="primitive:plane; width:1; height:1;" material="color:red; roughness: 1; shader: flat; opacity: 0;" position="0 0 -0.1"
                        animation__1="property:material.opacity; from: 0; to: 0.5; dur: 50; startEvents: hitAnim"
                        animation__2="property:material.opacity; from: 0.5; to: 0; dur: 50; startEvents: animationcomplete__1"> </a-entity>
                </a-entity>
            </a-entity>

            <!-- <a-entity camera="fov: 25;" position="0 80 -20" rotation="-90 -90 0"></a-entity> -->

        </a-scene>
    </body>
</html>